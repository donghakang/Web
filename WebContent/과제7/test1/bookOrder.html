<!DOCTYPE html>
<html>

<head>
    <meta charset="euc-kr">
    <title>jQuery Javascript</title>
    <script src="../lib/jquery-3.5.1.min.js"></script>
    <script>
        function updateAll() {
            // 합계 계산
            var bookTotal = 0;
            var moneyTotal = 0;
            for (var i = 1; i <= 3; i++) {
                // console.log($('#book' + i).val());
                bookTotal += Number($('#book' + i).val());
            }
            $('#totalNumber').val(bookTotal);

            var priceTotal = Number($('#book1Total').val()) + Number($('#book2Total').val()) + Number($('#book3Total').val());
            $('#totalPrice').val(priceTotal);
        }

        $(document).ready(function () {
            // 숫자를 바꿀때 마다 합계를 계산
            $('#book1').keyup(function () {
                $('#book1Total').val($(this).val() * 25000);
            })
            $('#book2').keyup(function () {
                $('#book2Total').val($(this).val() * 27000);
            })
            $('#book3').keyup(function () {
                $('#book3Total').val($(this).val() * 25000);
            })

            // 초기화
            $('#reset').on('click', function () {
                $('input').each(function () {
                    $(this).val("0");
                })
                $('#calculate').val("합계계산");
                $('#reset').val("초기화");
            })
        })
    </script>
</head>

<body>
    <h2> 서적 주문 양식 </h2>
    <form action="">
        <p> 주문서 </p>
        <table border="1">
            <tr>
                <th> 책 제목 </td>
                <th> 가격 </th>
                <th> 수량 </th>
                <th> 합계 </th>
            </tr>
            <tr>
                <td> Ajax 3일만 하면 된다 </td>
                <td> 25,000원</td>
                <td> <input id="book1" type="text" size="2" value="0" onclick="this.select();" /> </td>
                <td> <input id="book1Total" type="text" size="6" value="0" /> 원</td>
            </tr>
            <tr>
                <td> jQuery 멀티미디어 </td>
                <td> 27,000원 </td>
                <td> <input id="book2" type="text" size="2" value="0" onclick="this.select();" /> </td>
                <td> <input id="book2Total" type="text" size="6" value="0" /> 원</td>
            </tr>
            <tr>
                <td> 자바입문: 이론과 실습 </td>
                <td> 25,000원 </td>
                <td> <input id="book3" type="text" size="2" value="0" onclick="this.select();" /> </td>
                <td> <input id="book3Total" type="text" size="6" value="0" /> 원</td>
            </tr>
            <tr>
                <td> 합계 </td>
                <td> &nbsp; </td>
                <td> <input id="totalNumber" type="text" size="2" value="0" /> </td>
                <td> <input id="totalPrice" type="text" size="6" value="0" /> 원</td>
            </tr>
        </table> <br />
        <input id="calculate" type="button" value="합계계산" onclick="updateAll();" />
        <input id="reset" type="reset" value="초기화" />
    </form>
</body>

</html>